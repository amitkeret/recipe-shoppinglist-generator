(()=>{var e={651:(e,n,t)=>{var i=t(631);e.exports=(i.default||i).apply(i,[])},557:(e,n,t)=>{var i=t(506);e.exports=(i.default||i).apply(i,[])},718:(e,n,t)=>{var i=t(473);e.exports=(i.default||i).apply(i,[])},311:(e,n,t)=>{var i=t(503);e.exports=(i.default||i).apply(i,[])},440:(e,n,t)=>{var i=t(353);e.exports=(i.default||i).apply(i,[])},386:(e,n,t)=>{var i=t(641);e.exports=(i.default||i).apply(i,[])},845:(e,n,t)=>{var i=t(820);e.exports=(i.default||i).apply(i,[])},71:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,'#app {\n  --transition: all 0.5s ease-in-out;\n}\n#app .clickable {\n  cursor: pointer;\n}\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n.file-upload {\n  position: relative;\n  display: inline-block;\n}\n.file-upload__input {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1;\n  width:0;\n  height: 100%;\n  opacity: 0;\n}\n.file-upload__label > i {\n  margin-left: -0.75rem;\n}\n.flexbox-break {\n  flex-basis: 100%;\n  height: 0;\n}\n.dropdown-menu.dropdown-menu-right .dropdown-item > small.text-right {\n  min-width: 40px;\n}\n.recipe-image-thumbnail {\n  background-position: center;\n  background-size: cover;\n  box-shadow: inset 0 0 calc(1 * var(--spacer)) black;\n  width: 100%;\n  z-index: 1;\n}\n#step1 #recipeImage {\n  position: relative;\n  min-height: 7rem;\n}\n#step1 #recipeImage .recipe-image-thumbnail {\n  position: absolute;\n  height: 100%;\n}\n#step1 #recipeImage:hover > .recipe-image-thumbnail {\n  box-shadow: inset 0 0 calc(7 * var(--spacer)) black;\n  filter: grayscale(50%) blur(1px);\n}\n#step1 #recipeImage > button {\n  opacity: 0.8;\n  z-index: 2;\n}\n#step1 #recipeImage:hover > button {\n  opacity: 1;\n}\n#step1 #recipeImageFile {\n  background: none;\n}\n#step1 .form-ingredients {\n  position: relative;\n}\n#step1 .form-ingredients h5 {\n  position: absolute;\n  top: calc(-1 * var(--spacer));\n  left: calc(0.5 * var(--spacer));\n  padding: calc(0.25 * var(--spacer));\n  background: white;\n}\n#step1 #new-ingredients li .new-ing-name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#step1 #new-ingredients li .ing-optional {\n  cursor: default;\n  opacity: 0;\n  transition: var(--transition);\n}\n#step1 #new-ingredients li:hover .ing-optional {\n  opacity: 1;\n}\n#step2 .card-header .card-header-actions {\n  gap: calc(0.25 * var(--spacer));\n}\n#step2 .card-header button#randomRecipe {\n  min-width: 2em;\n  overflow: hidden;\n}\n#step2 > .card-body {\n  max-height: 60vh;\n  overflow-y: scroll;\n}\n.recipe-placeholder .recipe-image-thumbnail {\n  position: relative;\n  height: calc(10 * var(--spacer));\n}\n@media (min-width: 768px) {\n  .recipe-placeholder ul {\n    column-count: 2;\n    column-gap: calc(2 * var(--spacer));\n  }\n}\n.recipe-placeholder ul li[data-first-optional] {\n  margin-top: calc(0.5 * var(--spacer));\n  padding-top: calc(1.5 * var(--spacer));\n  border-top: 2px solid black;\n  border-image: linear-gradient(to left, transparent 2em, var(--secondary) 2em);\n  border-image-slice: 1;\n}\n.recipe-placeholder ul li[data-first-optional]::before {\n  content: "Optional:";\n  font-size: 80%;\n  position: absolute;\n  top: 0;\n}\n.modal .modal-title kbd {\n  vertical-align: text-bottom;\n}\n',""]);const a=o},40:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,'/* Bootstrap */\n:root {\n  /* Copying Bootstrap\'s variable definition to native CSS */\n  --spacer: 1rem;\n  --form-placeholder-color: #6f7880;\n}\n.dropdown .dropdown-item {\n  cursor: pointer;\n}\n.transparent {\n  opacity: 0;\n}\n\n/* Mess */\n#mess-messElement {\n  position: fixed !important; /* coz the original uses "absolute" for some odd reason */\n  white-space: pre;           /* https://stackoverflow.com/a/33052216 */\n  z-index: 1500;              /* above Bootstrap, @see https://getbootstrap.com/docs/4.6/layout/overview/#z-index */\n}\n\n/* eModal */\n/* BIGFIX to support bootstrap v4\'s flexbox model */\n.modal .modal-header > .x.close {\n  order: 1;\n}\n\n/* vue-multiselect */\n.input-group .multiselect {\n  width: 1%;\n  flex: 1 1 auto;\n}\n.multiselect__placeholder {\n  font-size: 1rem;\n  margin-bottom: 0;\n  padding-top: 0;\n  color: var(--form-placeholder-color);\n  white-space: nowrap;\n  overflow: hidden;\n}\n.multiselect__tags, .multiselect__content-wrapper {\n  border-color: #ced4da;\n}\n.multiselect.multiselect--active .multiselect__tags {\n  border-color: #80bdff;\n  box-shadow: 0 0 0 .2rem rgba(0,123,255,.25);\n}\n.multiselect__option--group {\n  background: inherit !important;\n  color: inherit !important;\n  font-style: italic;\n  font-weight: bolder;\n}\n.multiselect__option:not(.multiselect__option--group) {\n  text-indent: 1rem;\n}\n\n/* Bootstrap-switch-button */\ninput[data-toggle="switchbutton"] ~ .switch-group label {\n  position: absolute;\n  padding: 0;\n}\ninput[data-toggle="switchbutton"] ~ .switch-group label.switch-on {\n  right: 65%;\n}\ninput[data-toggle="switchbutton"] ~ .switch-group label.switch-off {\n  left: 60%;\n}\n',""]);const a=o},666:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,".recipe-meta-ings {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.recipe-meta-ings > span {\n  position: absolute;\n  transition: var(--transition);\n}\n.recipe-meta-ings > span:nth-child(2),\n.recipe-meta-ings:hover > span:nth-child(1) {\n  opacity: 0;\n}\n.recipe-meta-ings > span:nth-child(1),\n.recipe-meta-ings:hover > span:nth-child(2) {\n  opacity: 1;\n}\n",""]);const a=o},138:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,".recipe-item .recipe-link small,\n.recipe-item .recipe-image-thumbnail {\n  transition: var(--transition);\n}\n.recipe-item .recipe-link {\n  position: relative;\n}\n.recipe-item .recipe-link small {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  transform: translateX(var(--spacer));\n  opacity: 0;\n  visibility: hidden;\n}\n.recipe-item .recipe-link i:hover ~ small {\n  transform: translateX(calc(1.5 * var(--spacer)));\n  opacity: 1;\n  visibility: visible;\n}\n.recipe-item .recipe-meta > .d-flex {\n  gap: calc(.25 * var(--spacer)) calc(1 * var(--spacer));\n}\n.recipe-item .recipe-image-thumbnail {\n  max-width: 25%;\n  filter: saturate(70%) grayscale(20%) brightness(90%);\n}\n.recipe-item:hover .recipe-image-thumbnail,\n.recipe-item.bg-light .recipe-image-thumbnail {\n  filter: saturate(100%) grayscale(0%) brightness(100%);\n}\n",""]);const a=o},299:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,".recipe-servings,\n.recipe-servings .servings-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: end;\n  gap: 3px;\n}\n.recipe-servings .servings-buttons {\n  padding-top: 2px;\n  max-width: 0;\n  overflow: hidden;\n  transition: var(--transition);\n}\n.recipe-servings:hover .servings-buttons {\n  max-width: 5em;\n}\n.recipe-servings .servings-buttons > button {\n  /* Halving Bootstrap's xs size */\n  padding: .15rem .2rem .125rem;\n  font-size: 0.5rem;\n  line-height: 0.25;\n}\n",""]);const a=o},969:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),s=t(645),o=t.n(s)()(r());o.push([e.id,".section-title {\n  display: inline;\n  cursor: pointer;\n}\n.section-title:hover {\n  text-decoration: underline;\n}\n",""]);const a=o},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(o[c]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);i&&o[p[0]]||(void 0!==s&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=s),t&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=t):p[2]=t),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),n.push(p))}},n}},81:e=>{"use strict";e.exports=function(e){return e[1]}},631:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="button-icon btn" :is="compTag" type="button" :class="compColor" @click="buttonClick"><icon v-if="icon" :icon="icon" :family="family"></icon><span v-if="text" :class="compTextClass">{{ text }}</span></div>'}},506:(e,n,t)=>{t(55),e.exports=function(e){return""+'<icon class="checkbox" :icon="icon" :family="family" :color="color" @click="$emit(\'click\')"></icon>'}},473:(e,n,t)=>{t(55),e.exports=function(e){return""+'<i :class="compClass" @click="$emit(\'click\')"></i>'}},503:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-meta-ings" v-if="ingSearch.length &gt; 0"><span class="badge badge-pill" :class="ingSearch.length == filters.ings.length ? \'badge-primary\' : \'badge-secondary\'">{{ ingSearch.length }}</span><span class="text-nowrap"><div class="ml-1 badge badge-pill badge-primary" v-for="ing in ingSearch">{{ ing.name }}</div></span></div>'}},353:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-item card p-3 mb-3 mx-lg-5" v-show="showItem" :class="{ \'bg-light\': recipe.selected, \'shadow-sm\': !recipe.selected, \'shadow\': recipe.selected }"><div class="recipe-meta"><div class="d-flex align-items-center justify-content-between" v-if="settings.listCompact"><checkbox class="mt-1 fa fa-lg" :checked="recipe.selected" @click="recipe.selected = !recipe.selected"></checkbox><h6 class="mb-0 flex-grow-1">{{ recipe.name }}</h6><recipe-servings :recipe="recipe"></recipe-servings><icon class="clickable d-none d-md-block" icon="eye" color="secondary" @click="$emit(\'emodalrecipe\')" title="View recipe"></icon></div></div><div class="d-flex justify-content-between" v-if="!settings.listCompact"><div class="recipe-meta flex-grow-1"><div class="d-flex align-items-start justify-content-start mb-2"><checkbox class="mt-1 fa fa-lg" :checked="recipe.selected" @click="recipe.selected = !recipe.selected"></checkbox><h5 class="mb-0">{{ recipe.name }}</h5><a class="mr-2 recipe-link" v-if="recipe.link.length &gt; 0" href="recipe.link" target="_blank"><icon icon="external-link-alt"></icon><small><div class="badge badge-pill badge-primary d-none d-md-inline">{{ getLink().host }}</div></small></a></div><div class="d-flex align-items-center justify-content-start"><div class="dropdown"><icon class="clickable" icon="ellipsis-h" data-toggle="dropdown"></icon><div class="dropdown-menu"><div class="dropdown-item" @click="$emit(\'updaterecipe\')"><icon class="ml-n2 mr-2" icon="pen" color="warning" title="Update recipe"></icon>Edit</div><div class="dropdown-item" @click="$emit(\'deleterecipe\')"><icon class="ml-n2 mr-2" icon="trash" color="danger" title="Delete recipe"></icon>Delete</div></div></div><icon class="clickable" icon="eye" color="secondary" @click="$emit(\'emodalrecipe\')" title="View recipe"></icon><div><icon :icon="isVeg ? \'leaf\' : \'drumstick-bite\'" :color="isVeg ? \'success\' : \'danger\'"></icon></div><div class="recipe-rating text-nowrap" v-if="recipe.rating"><icon class="fa-sm" icon="star" color="warning"></icon><small>{{ recipe.rating }}</small></div><recipe-servings :recipe="recipe"></recipe-servings><recipe-ingredients :recipe="recipe" :filters="filters"></recipe-ingredients></div></div><div class="mh-100 my-n3 mr-n3 rounded-right recipe-image-thumbnail clickable" v-if="recipe.image" :style="{ \'background-image\': getImage().css }" @click="$emit(\'emodalrecipe\')" title="View recipe"></div></div></div>'}},641:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-servings" v-if="recipe.servings"><span class="text-nowrap" :class="{ \'text-danger font-weight-bold\': currentServings !== recipe.servings }"><icon class="mr-1" icon="utensils"></icon><span>{{ currentServings | 0 }}</span></span><span class="servings-buttons"><button-icon class="btn-xs rounded-circle" v-for="dir, index in [\'plus\', \'minus\']" :icon="dir" color="dark" @click="update(index ? -1 : 1)"></button-icon></span></div>'}},820:(e,n,t)=>{t(55),e.exports=function(e){return""+'<h4 class="section-title" @click.stop="$emit(\'click\')"><span class="badge badge-dark rounded-circle mr-2"><span v-if="text">{{ text }}</span><icon v-if="icon" :icon="icon" :family="family"></icon></span>{{ title }}</h4>'}},55:(e,n,t)=>{"use strict";var i=Object.prototype.hasOwnProperty;function r(e,n){return Array.isArray(e)?function(e,n){for(var t,i="",s="",o=Array.isArray(n),a=0;a<e.length;a++)(t=r(e[a]))&&(o&&n[a]&&(t=c(t)),i=i+s+t,s=" ");return i}(e,n):e&&"object"==typeof e?function(e){var n="",t="";for(var r in e)r&&e[r]&&i.call(e,r)&&(n=n+t+r,t=" ");return n}(e):e||""}function s(e){if(!e)return"";if("object"==typeof e){var n="";for(var t in e)i.call(e,t)&&(n=n+t+":"+e[t]+";");return n}return e+""}function o(e,n,t,i){if(!1===n||null==n||!n&&("class"===e||"style"===e))return"";if(!0===n)return" "+(i?e:e+'="'+e+'"');var r=typeof n;return"object"!==r&&"function"!==r||"function"!=typeof n.toJSON||(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),t||-1===n.indexOf('"'))?(t&&(n=c(n))," "+e+'="'+n+'"'):" "+e+"='"+n.replace(/'/g,"&#39;")+"'"}n.merge=function e(n,t){if(1===arguments.length){for(var i=n[0],r=1;r<n.length;r++)i=e(i,n[r]);return i}for(var o in t)if("class"===o){var a=n[o]||[];n[o]=(Array.isArray(a)?a:[a]).concat(t[o]||[])}else if("style"===o){a=(a=s(n[o]))&&";"!==a[a.length-1]?a+";":a;var c=s(t[o]);c=c&&";"!==c[c.length-1]?c+";":c,n[o]=a+c}else n[o]=t[o];return n},n.classes=r,n.style=s,n.attr=o,n.attrs=function(e,n){var t="";for(var a in e)if(i.call(e,a)){var c=e[a];if("class"===a){t=o(a,c=r(c),!1,n)+t;continue}"style"===a&&(c=s(c)),t+=o(a,c,!1,n)}return t};var a=/["&<>]/;function c(e){var n=""+e,t=a.exec(n);if(!t)return e;var i,r,s,o="";for(i=t.index,r=0;i<n.length;i++){switch(n.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r!==i&&(o+=n.substring(r,i)),r=i+1,o+=s}return r!==i?o+n.substring(r,i):o}n.escape=c,n.rethrow=function e(n,i,r,s){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&i||s))throw n.message+=" on line "+r,n;try{s=s||t(835).readFileSync(i,"utf8")}catch(t){e(n,null,r)}var o=3,a=s.split("\n"),c=Math.max(r-o,0),l=Math.min(a.length,r+o);throw o=a.slice(c,l).map((function(e,n){var t=n+c+1;return(t==r?"  > ":"    ")+t+"| "+e})).join("\n"),n.path=i,n.message=(i||"Pug")+":"+r+"\n"+o+"\n\n"+n.message,n}},379:e=>{"use strict";var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var s={},o=[],a=0;a<e.length;a++){var c=e[a],l=i.base?c[0]+i.base:c[0],p=s[l]||0,u="".concat(l," ").concat(p);s[l]=p+1;var d=t(u),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(m);else{var f=r(m,i);i.byIndex=a,n.splice(a,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var s=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<s.length;o++){var a=t(s[o]);n[a].references--}for(var c=i(e,r),l=0;l<s.length;l++){var p=t(s[l]);0===n[p].references&&(n[p].updater(),n.splice(p,1))}s=c}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,r&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var s=t.sourceMap;s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},835:()=>{}},n={};function t(i){var r=n[i];if(void 0!==r)return r.exports;var s=n[i]={id:i,exports:{}};return e[i](s,s.exports,t),s.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nc=void 0,(()=>{"use strict";var e=t(379),n=t.n(e),i=t(795),r=t.n(i),s=t(569),o=t.n(s),a=t(565),c=t.n(a),l=t(216),p=t.n(l),u=t(589),d=t.n(u),m=t(71),f={};f.styleTagTransform=d(),f.setAttributes=c(),f.insert=o().bind(null,"head"),f.domAPI=r(),f.insertStyleElement=p(),n()(m.Z,f),m.Z&&m.Z.locals&&m.Z.locals;var g,h,v,b,y,x,w,k,S,I,A,C,R,M,O,T,Z=t(40),N={};N.styleTagTransform=d(),N.setAttributes=c(),N.insert=o().bind(null,"head"),N.domAPI=r(),N.insertStyleElement=p(),n()(Z.Z,N),Z.Z&&Z.Z.locals&&Z.Z.locals,h=function(e){return JSON.parse(JSON.stringify(e))},g=function(e,n=null){return e.sort((function(e,t){return n?e[n].localeCompare(t[n]):e.localeCompare(t)}))},b=function(e){var n,t,i,r,s;if(0===(r=g(Object.keys(e))).length)return{};for(s={},n=0,i=r.length;n<i;n++)s[t=r[n]]=e[t];return s},y=function(e){var n,t,i,r,s;if(Array.isArray(e)){for(i=t=0,r=e.length;t<r;i=++t)n=e[i],e[i]=y(n);return e}if(null===e)return e;if("object"==typeof e){for(s in e)n=e[s],e[s]=y(n);return b(e)}return e},S=function(e,n=null){var t,i;return i=function(e,n){return e+n},t=function(e){return e.filter((function(e){return null!=e})).reduce(i,0)},t(n?e.map((function(e){return e[n]})):e)},x=function(e){return e.includes("\n")?e.replaceAll("\n","<br />"):e.replaceAll("<br />","\n")},w=function(e){var n;return(n=document.createElement("a")).href=encodeURI(e),{uri:n.href,host:n.hostname.replace(/^(www\.)?/,""),port:n.port,css:`url('${n.href}')`}},v=function(e,n=!1){var t,i;return i=(t=new Fraction(e)).toFraction(!0),!1===n||1===t.d?i:i.replace(/(\d+)\/(\d+)/,"&frac$1$2;").replace(" ","")},A=function(e,n){var t,i,r,s;for(i=[],r=0,s=n.length;r<s;r++)"function"==typeof(t=n[r])[1]?!0===t[1](e[t[0]])&&i.push(t[2]):e[t[0]]===t[1]&&i.push(t[2]);return 0!==i.length&&mess.show(i.join("\n")),0===i.length},k=function(e,n){var t;return t=e+Math.random()*(n+1-e),Math.floor(t)},I=function(e,n,t){return setTimeout((function(){return e(n)}),t)},R={recipe:{name:"",link:"",comment:"",image:"",servings:null,rating:null,ingredients:[]},ingredient:{name:"",department:"",amount:0,unit:null,optional:!1}},M=function(){return T.set("recipes",[])},(O={JSON:[{name:"name"},{name:"link"},{name:"comment"},{name:"image"},{name:"servings",formatFunc:function(e){return parseInt(0|e)}},{name:"rating",formatFunc:function(e){return parseInt(0|e)}},{name:"ingredients",init:[],formatFunc:function(e){var n,t,i;for(n=0,i=e.length;n<i;n++)(t=e[n]).amount=parseFloat(t.amount);return e.sort((function(e,n){return e.optional-n.optional||e.name.localeCompare(n.name)}))}}]}).Vue=O.JSON.concat([{name:"selected",init:!1},{name:"servingsModifier",init:1}]),C=function(e=[],n="JSON"){var t,i,r,s,o,a,c,l,p,u,d,m,f,v,b,x;for(Array.isArray(e)||(e=[e]),e=h(e),i=O[n].map((function(e){return e.name})),r=0,c=e.length;r<c;r++)for(f in v=e[r])i.includes(f)||delete v[f];for(s=0,l=e.length;s<l;s++)for(v=e[s],o=0,p=(b=O[n]).length;o<p;o++)null!=(t=b[o]).init&&null==v[t.name]&&(v[t.name]=t.init);for(a=0,u=e.length;a<u;a++)for(v=e[a],m=0,d=(x=O[n]).length;m<d;m++)null!=(t=x[m]).formatFunc&&(v[t.name]=t.formatFunc(v[t.name]));return 1===(e=g(y(e),"name")).length?e[0]:e},(T=new xStore("ShoppingList_",localStorage)).get("recipes")||M(),T.convert=C,T.getAll=function(){return C(T.get("recipes"),"Vue")},T.importJSON=function(e){return T.update(JSON.parse(e))},T.exportJSON=function(){return C(T.get("recipes"),"JSON")},T.update=function(e){var n;return n=C(e,"Vue"),T.set("recipes",n),n};var j,_=t(969),E={};E.styleTagTransform=d(),E.setAttributes=c(),E.insert=o().bind(null,"head"),E.domAPI=r(),E.insertStyleElement=p(),n()(_.Z,E),_.Z&&_.Z.locals&&_.Z.locals,j={props:["title","text","icon","family"],template:t(845)};var L,F=t(299),J={};J.styleTagTransform=d(),J.setAttributes=c(),J.insert=o().bind(null,"head"),J.domAPI=r(),J.insertStyleElement=p(),n()(F.Z,J),F.Z&&F.Z.locals&&F.Z.locals,L={props:["recipe"],computed:{currentServings:function(){return this.recipe.servings*this.recipe.servingsModifier}},methods:{update:function(e){if(this.currentServings+e!==0)return this.recipe.servingsModifier=(this.currentServings+e)/this.recipe.servings}},template:t(386)};var V,B,q,z,P=t(666),D={};D.styleTagTransform=d(),D.setAttributes=c(),D.insert=o().bind(null,"head"),D.domAPI=r(),D.insertStyleElement=p(),n()(P.Z,D),P.Z&&P.Z.locals&&P.Z.locals,B={ingredient:h(R.ingredient),units:["","mL","g"," cup(s)"," tbsp(s)"," tsp(s)"," pack(s)"],ingForm:"exist"},z=function(e,n=!0){var t,i,r,s,o,a,c,l,p,u,d;for(o={},r=0,c=e.length;r<c;r++)for(a=0,l=(d=(u=e[r]).ingredients).length;a<l;a++)o[(s=d[a]).department]||(o[s.department]={}),o[s.department][s.name]?o[s.department][s.name].amount+=s.amount:o[s.department][s.name]={name:s.name,unit:s.unit,amount:s.amount*u.servingsModifier,department:s.department};for(t in o)s=o[t],o[t]=g(function(){var e;for(p in e=[],s)i=s[p],e.push(i);return e}(),"name");return!0===n?b(o):g(Object.values(o).flat(),"name")},q=function(){var e;return e=this,{unique:z,clear:function(n="exist"){return e.Ingredient.ingredient=h(R.ingredient),e.Ingredient.ingForm=n},add:function(){var n;if(n=[["name","","Ingredient name: Cannot be empty"],["department","","Department name: Cannot be empty"],["amount",function(e){return""===e||!0===isNaN(e)||e<.125||8*e%1!=0},"Amount: Decimal numbers in steps of 0.125"],["unit",null,"Unit: Selection required"]],A(e.Ingredient.ingredient,n))return null!=e.Ingredient.ingredient.name.name&&(e.Ingredient.ingredient.name=e.Ingredient.ingredient.name.name),e.Recipe.recipe.ingredients.push(e.Ingredient.ingredient),e.Ingredients.clear()},updateExisting:function(n){return e.Ingredient.ingredient.department=n.department,e.Ingredient.ingredient.unit=n.unit},optional:function(n){return e.Recipe.recipe.ingredients[n].optional=!e.Recipe.recipe.ingredients[n].optional},delete:function(n){return e.Recipe.recipe.ingredients.splice(n,1)},list:function(){var n,t,i,r,s,o;for(n in o=[],s=z(e.recipes))i=s[n],o.push({department:n,ings:function(){var e;for(r in e=[],i)t=i[r],e.push(t);return e}()});return o},listFlat:function(){return z(e.recipes,!1)},departments:function(){return Object.keys(z(e.recipes))},ingSearch:function(e,n){var t,i;return t=function(){var e,t,r,s;for(s=[],e=0,t=(r=n.ings).length;e<t;e++)i=r[e],s.push(i.name);return s}(),function(){var n,r,s,o;for(o=[],n=0,r=(s=e.ingredients).length;n<r;n++)i=s[n],t.includes(i.name)&&o.push(i);return o}()}}},V={props:["recipe","filters"],computed:{ingSearch:function(){return q().ingSearch(this.recipe,this.filters)}},template:t(311)};var U,H,X,W,G,Q,Y,K,ee,ne,te,ie=t(138),re={};re.styleTagTransform=d(),re.setAttributes=c(),re.insert=o().bind(null,"head"),re.domAPI=r(),re.insertStyleElement=p(),n()(ie.Z,re),ie.Z&&ie.Z.locals&&ie.Z.locals,H={recipe:h(R.recipe),activeRecipe:null},X=function(){var e;return e=this,{setActive:function(n){return e.Recipe.activeRecipe=e.recipes[n]},clear:function(){return e.Recipe.recipe=h(R.recipe),e.Ingredients.clear(),e.editindex>-1&&(e.settings.step1visible=!1),e.editindex=-1},save:function(){var n,t;if(n=[["name","","Recipe name: Cannot be empty"],["ingredients",function(e){return 0===e.length},"Ingredients: Add at least one ingredient"],["servings",function(e){return e%1!=0},"Servings: Whole numbers only (1-10)"],["rating",function(e){return e%1!=0},"Rating: Whole numbers only (1-5)"]],A(e.Recipe.recipe,n))return t=T.convert(e.Recipe.recipe,"Vue"),e.editindex>-1?(e.recipes[e.editindex]=t,e.settings.step1visible=!1):e.recipes.push(t),mess.show(`${e.editindex>-1?"Updated":"Added new"} recipe: ${e.Recipe.recipe.name}`),e.Recipes.clear(),T.update(e.recipes)},delete:function(n){return eModal.confirm("This cannot be undone.","Are you sure?").then((function(){return e.recipes.splice(n,1),T.update(e.recipes)}))},update:function(n){return e.Recipe.recipe=h(e.recipes[n]),e.editindex=n,e.settings.step1visible=!0},getImage:function(e){return""!==e.image&&w(e.image)},eModal:function(n){return e.Recipes.setActive(n),e.settings.step1visible=!1,setTimeout((function(){return eModal.alert({title:e.Recipe.activeRecipe.name,subtitle:e.$refs.recipePlaceholderLink.outerHTML,message:e.$refs.recipePlaceholder.outerHTML})}),100)},selected:function(n=null){var t,i;switch(i=function(){var n,i,r,s;for(s=[],n=0,i=(r=e.recipes).length;n<i;n++)!0===(t=r[n]).selected&&s.push(t);return s}(),n){case"title":return function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(t.name);return r}().join(", ").toUpperCase();case"servings":return S(function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(t.servings*t.servingsModifier);return r}());default:return i}}}},U={components:{"recipe-servings":L,"recipe-ingredients":V},props:["recipe","filters","settings"],methods:{getLink:function(){return 0!==this.recipe.link.length&&w(this.recipe.link)},getImage:function(){return X().getImage(this.recipe)}},computed:{showIngs:function(){var e;return e=!0,0!==this.filters.ings.length&&(e=!0===this.settings.ingModeAnd?q().ingSearch(this.recipe,this.filters).length===this.filters.ings.length:q().ingSearch(this.recipe,this.filters).length>0),e},isVeg:function(){var e;return 0===function(){var n,t,i,r;for(r=[],n=0,t=(i=this.recipe.ingredients).length;n<t;n++)"Meats"===(e=i[n]).department&&r.push(e);return r}.call(this).length},showItem:function(){var e,n;return n={AND:{rating:!1===this.filters.rating||this.filters.rating<=this.recipe.rating,veg:!1===this.filters.veg||!0===this.isVeg,ings:this.showIngs},OR:{empty:0===this.filters.query.length,title:this.recipe.name.toLowerCase().includes(this.filters.query),comment:this.recipe.comment.toLowerCase().includes(this.filters.query)}},e=Object.values(n.AND).every((function(e){return!0===e})),!0===Object.values(n.OR).includes(!0)&&!0===e}},template:t(440)},ne=t(718),Q=t(651),K=t(557),ee={props:W=["icon","color","family"],methods:{getStyle:function(){var e;return null!=(e=this.family)?e:"fas"}},computed:{compIcon:function(){return`${this.getStyle()} fa-${this.icon}`},compColor:function(){return this.color?`text-${this.color}`:""},compClass:function(){return`${this.compIcon} ${this.compColor}`}},template:ne},G={props:W.concat(["tag","text","textBreakpoint"]),methods:{buttonClick:function(){return this.$emit("click"),this.$el.blur()}},computed:{compColor:function(){return this.color?`btn-${this.color}`:"btn-secondary"},compTag:function(){var e;return null!=(e=this.tag)?e:"button"},children:function(){var e;return function(){var n,t,i,r;for(r=[],n=0,t=(i=[this.icon,this.text]).length;n<t;n++)null!=(e=i[n])&&r.push(e);return r}.call(this).length},compTextClass:function(){return[null!=this.textBreakpoint?`d-none d-${this.textBreakpoint}-inline`:"",this.children>1?`ml-${null!=this.textBreakpoint?`${this.textBreakpoint}-`:""}2`:""].join(" ")}},template:Q},Y={props:["checked"],computed:{icon:function(){return this.checked?"check-square":"square"},family:function(){return this.checked?"fas":"far"},color:function(){return this.checked?"primary":""}},template:K},Vue.component("icon",ee),Vue.component("button-icon",G),Vue.component("checkbox",Y),te={el:"#app",components:{"section-title":j,"vue-multiselect":VueMultiselect.default,"recipe-item":U},data:function(){return{recipes:[],editindex:-1,today:(new Date).toLocaleDateString("en-AU",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),Recipe:H,Ingredient:B,filters:{query:"",ings:[],rating:!1,veg:!1},settings:{step1visible:!1,ingModeAnd:!1,listCompact:!1}}},created:function(){return this.recipes=T.getAll()},methods:{onCopy:function(e){return eModal.alert({title:"Copied",subtitle:"(<kbd>Ctrl</kbd> + <kbd>v</kbd> to paste)",message:x(e.text)})},onError:function(e){return mess.show("Error copying to the clipboard.")},selectNone:function(){var e,n,t,i,r;for(r=[],e=0,n=(i=this.recipes).length;e<n;e++)t=i[e],r.push(t.selected=!1);return r},randomRecipe:function(){var e,n,t,i,r;return t=this.$refs.randomRecipe.$el.firstChild,n=/dice(\-[a-z]+)?/,i=["one","two","three","four","five","six"],r=!0,(e=function(){if(r)return t.className=t.className.replace(n,`dice-${i[k(0,5)]}`),I(e,this,k(50,300))})(),I((function(e){return r=!1,t.className=t.className.replace(n,"dice"),e.Recipes.eModal(k(0,e.recipes.length-1))}),this,2e3)},clearQuery:function(){return this.filters.query="",this.$refs.query.focus()},step1toggle:function(){return this.settings.step1visible=!this.settings.step1visible,this.Recipes.clear()},importRecipes:function(e){var n,t;return n=function(e){var n;return n=(new TextDecoder).decode(e.target.result),this.recipes=T.importJSON(n),mess.show(`${this.recipes.length} recipes loaded successfully.`)},(t=new FileReader).onloadend=n.bind(this),t.readAsArrayBuffer(e.target.files[0])},exportRecipes:function(){var e,n,t;return n=JSON.stringify(T.exportJSON(),void 0,2),t=new Blob([n],{type:"text/json"}),e=document.createElement("a"),Object.assign(e,{download:"recipes.json",innerHTML:"Download File",href:window.URL.createObjectURL(t),onclick:function(e){return document.body.removeChild(e.target)}}),e.style.display="none",document.body.appendChild(e),e.click()},clearRecipes:function(){var e;return e=this,eModal.confirm("This will clear the entire recipes detabase. This cannot be undone.","Are you ABSOLUTELY sure?").then((function(){return e.recipes=T.update([]),mess.show("Recipes database cleared.")}))}},computed:{Funcs:function(){return{nlbr:function(e){return x(e)},fraction:function(e){return v(e,!0)},getImage:function(e){return X().getImage(e)}}},Recipes:X,Ingredients:q,clipboardShoppingList:function(){var e,n,t,i,r,s,o;for(n in e=`Shopping list for ${this.today}:\n\n`,r=this.Ingredients.unique(this.Recipes.selected())){for(e+=`${n}:\n`,t=0,o=(s=r[n]).length;t<o;t++)i=s[t],e+=`${v(i.amount)}${i.unit} ${i.name}\n`;e+="\n"}return e},clipboardMenues:function(){var e,n,t,i,r,s,o,a,c;for(e=`Menu for ${this.today}:\n${this.Recipes.selected("title")}\n\n`,n=0,r=(a=this.Recipes.selected()).length;n<r;n++){for(e+=`${(o=a[n]).name.toUpperCase()} ${o.comment?"\n"+o.comment:""} \n--------------------------------------------\n`,i=0,s=(c=o.ingredients).length;i<s;i++)t=c[i],e+=`${v(t.amount)}${t.unit} ${t.name}\n`;e+="\n"}return e}}},document.addEventListener("DOMContentLoaded",(function(){return new Vue(te),(new Mess).init(),$('[data-toggle="tooltip"]').tooltip()}))})()})();