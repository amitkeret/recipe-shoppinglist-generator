(()=>{var e={651:(e,n,t)=>{var i=t(631);e.exports=(i.default||i).apply(i,[])},557:(e,n,t)=>{var i=t(506);e.exports=(i.default||i).apply(i,[])},65:(e,n,t)=>{var i=t(228);e.exports=(i.default||i).apply(i,[])},718:(e,n,t)=>{var i=t(473);e.exports=(i.default||i).apply(i,[])},311:(e,n,t)=>{var i=t(503);e.exports=(i.default||i).apply(i,[])},440:(e,n,t)=>{var i=t(353);e.exports=(i.default||i).apply(i,[])},386:(e,n,t)=>{var i=t(641);e.exports=(i.default||i).apply(i,[])},845:(e,n,t)=>{var i=t(820);e.exports=(i.default||i).apply(i,[])},71:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,'#app {\n  --transition: all 0.5s ease-in-out;\n}\n#app .clickable {\n  cursor: pointer;\n}\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n.file-upload {\n  position: relative;\n  display: inline-block;\n}\n.file-upload__input {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  font-size: 1;\n  width:0;\n  height: 100%;\n  opacity: 0;\n}\n.file-upload__label > i {\n  margin-left: -0.75rem;\n}\n.flexbox-break {\n  flex-basis: 100%;\n  height: 0;\n}\n\n.recipe-image-thumbnail {\n  background-position: center;\n  background-size: cover;\n  box-shadow: inset 0 0 calc(1 * var(--spacer)) black;\n  width: 100%;\n  z-index: 1;\n}\n#step1 #recipeImage {\n  position: relative;\n  min-height: 7rem;\n}\n#step1 #recipeImage .recipe-image-thumbnail {\n  position: absolute;\n  height: 100%;\n}\n#step1 #recipeImage:hover > .recipe-image-thumbnail {\n  box-shadow: inset 0 0 calc(7 * var(--spacer)) black;\n  filter: grayscale(50%) blur(1px);\n}\n#step1 #recipeImage > button {\n  opacity: 0.8;\n  z-index: 2;\n}\n#step1 #recipeImage:hover > button {\n  opacity: 1;\n}\n#step1 #recipeImageFile {\n  background: none;\n}\n#step1 .form-ingredients {\n  position: relative;\n}\n#step1 .form-ingredients h5 {\n  position: absolute;\n  top: calc(-1 * var(--spacer));\n  left: calc(0.5 * var(--spacer));\n  padding: calc(0.25 * var(--spacer));\n  background: white;\n}\n#step1 #new-ingredients li .new-ing-name {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n#step1 #new-ingredients li .ing-optional {\n  cursor: default;\n  opacity: 0;\n  transition: var(--transition);\n}\n#step1 #new-ingredients li:hover .ing-optional {\n  opacity: 1;\n}\n#step2 .card-header .card-header-actions {\n  gap: calc(0.25 * var(--spacer));\n}\n#step2 .card-header button#randomRecipe {\n  min-width: 2em;\n  overflow: hidden;\n}\n#step2 > .card-body {\n  max-height: 60vh;\n  overflow-y: scroll;\n}\n.recipe-placeholder .recipe-image-thumbnail {\n  position: relative;\n  height: calc(10 * var(--spacer));\n}\n@media (min-width: 768px) {\n  .recipe-placeholder ul {\n    column-count: 2;\n    column-gap: calc(2 * var(--spacer));\n  }\n}\n.recipe-placeholder ul li[data-first-optional] {\n  margin-top: calc(0.5 * var(--spacer));\n  padding-top: calc(1.5 * var(--spacer));\n  border-top: 2px solid black;\n  border-image: linear-gradient(to left, transparent 2em, var(--secondary) 2em);\n  border-image-slice: 1;\n}\n.recipe-placeholder ul li[data-first-optional]::before {\n  content: "Optional:";\n  font-size: 80%;\n  position: absolute;\n  top: 0;\n}\n.modal .modal-title kbd {\n  vertical-align: text-bottom;\n}\n',""]);const a=s},12:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,".dropdown-menu.dropdown-menu-right .dropdown-item > small.text-right {\n  min-width: 40px;\n}\n",""]);const a=s},40:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,'/* Bootstrap */\n:root {\n  /* Copying Bootstrap\'s variable definition to native CSS */\n  --spacer: 1rem;\n  --form-placeholder-color: #6f7880;\n}\n.dropdown .dropdown-item {\n  cursor: pointer;\n}\n.transparent {\n  opacity: 0;\n}\n\n/* Mess */\n#mess-messElement {\n  position: fixed !important; /* coz the original uses "absolute" for some odd reason */\n  white-space: pre;           /* https://stackoverflow.com/a/33052216 */\n  z-index: 1500;              /* above Bootstrap, @see https://getbootstrap.com/docs/4.6/layout/overview/#z-index */\n}\n\n/* eModal */\n/* BIGFIX to support bootstrap v4\'s flexbox model */\n.modal .modal-header > .x.close {\n  order: 1;\n}\n\n/* vue-multiselect */\n.input-group .multiselect {\n  width: 1%;\n  flex: 1 1 auto;\n}\n.multiselect__placeholder {\n  font-size: 1rem;\n  margin-bottom: 0;\n  padding-top: 0;\n  color: var(--form-placeholder-color);\n  white-space: nowrap;\n  overflow: hidden;\n}\n.multiselect__tags, .multiselect__content-wrapper {\n  border-color: #ced4da;\n}\n.multiselect.multiselect--active .multiselect__tags {\n  border-color: #80bdff;\n  box-shadow: 0 0 0 .2rem rgba(0,123,255,.25);\n}\n.multiselect__option--group {\n  background: inherit !important;\n  color: inherit !important;\n  font-style: italic;\n  font-weight: bolder;\n}\n.multiselect__option:not(.multiselect__option--group) {\n  text-indent: 1rem;\n}\n\n/* Bootstrap-switch-button */\ninput[data-toggle="switchbutton"] ~ .switch-group label {\n  position: absolute;\n  padding: 0;\n}\ninput[data-toggle="switchbutton"] ~ .switch-group label.switch-on {\n  right: 65%;\n}\ninput[data-toggle="switchbutton"] ~ .switch-group label.switch-off {\n  left: 60%;\n}\n',""]);const a=s},666:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,".recipe-meta-ings {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.recipe-meta-ings > span {\n  position: absolute;\n  transition: var(--transition);\n}\n.recipe-meta-ings > span:nth-child(2),\n.recipe-meta-ings:hover > span:nth-child(1) {\n  opacity: 0;\n}\n.recipe-meta-ings > span:nth-child(1),\n.recipe-meta-ings:hover > span:nth-child(2) {\n  opacity: 1;\n}\n",""]);const a=s},138:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,".recipe-item .recipe-link small,\n.recipe-item .recipe-image-thumbnail {\n  transition: var(--transition);\n}\n.recipe-item .recipe-link {\n  position: relative;\n}\n.recipe-item .recipe-link small {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  transform: translateX(var(--spacer));\n  opacity: 0;\n  visibility: hidden;\n}\n.recipe-item .recipe-link i:hover ~ small {\n  transform: translateX(calc(1.5 * var(--spacer)));\n  opacity: 1;\n  visibility: visible;\n}\n.recipe-item .recipe-meta > .d-flex {\n  gap: calc(.25 * var(--spacer)) calc(1 * var(--spacer));\n}\n.recipe-item .recipe-image-thumbnail {\n  max-width: 25%;\n  filter: saturate(70%) grayscale(20%) brightness(90%);\n}\n.recipe-item:hover .recipe-image-thumbnail,\n.recipe-item.bg-light .recipe-image-thumbnail {\n  filter: saturate(100%) grayscale(0%) brightness(100%);\n}\n",""]);const a=s},299:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,".recipe-servings,\n.recipe-servings .servings-buttons {\n  display: flex;\n  align-items: center;\n  justify-content: end;\n  gap: 3px;\n}\n.recipe-servings .servings-buttons {\n  padding-top: 2px;\n  max-width: 0;\n  overflow: hidden;\n  transition: var(--transition);\n}\n.recipe-servings:hover .servings-buttons {\n  max-width: 5em;\n}\n.recipe-servings .servings-buttons > button {\n  /* Halving Bootstrap's xs size */\n  padding: .15rem .2rem .125rem;\n  font-size: 0.5rem;\n  line-height: 0.25;\n}\n",""]);const a=s},969:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(81),r=t.n(i),o=t(645),s=t.n(o)()(r());s.push([e.id,".section-title.clickable:hover {\n  text-decoration: underline;\n}\n",""]);const a=s},645:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var p=[].concat(e[l]);i&&s[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),t&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=t):p[2]=t),r&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=r):p[4]="".concat(r)),n.push(p))}},n}},81:e=>{"use strict";e.exports=function(e){return e[1]}},631:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="button-icon btn" :is="compTag" type="button" :class="compColor" @click="buttonClick"><icon v-if="icon" :icon="icon" :family="family"></icon><span v-if="text" :class="compTextClass">{{ text }}</span></div>'}},506:(e,n,t)=>{t(55),e.exports=function(e){return""+'<icon class="checkbox" :icon="icon" :family="family" :color="color" @click="$emit(\'click\')"></icon>'}},228:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="dropdown-item d-flex align-items-center" @click="dropdownClick"><icon class="ml-n2 mr-2" :icon="icon" :color="color" v-if="icon"></icon><span class="flex-grow-1">{{ text }}</span><small class="text-secondary text-right" v-if="suffix">{{ suffix }}</small></div>'}},473:(e,n,t)=>{t(55),e.exports=function(e){return""+'<i :class="compClass" @click="$emit(\'click\')"></i>'}},503:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-meta-ings" v-if="ingSearch.length &gt; 0"><span class="badge badge-pill" :class="ingSearch.length == filters.ings.length ? \'badge-primary\' : \'badge-secondary\'">{{ ingSearch.length }}</span><span class="text-nowrap"><div class="ml-1 badge badge-pill badge-primary" v-for="ing in ingSearch">{{ ing.name }}</div></span></div>'}},353:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-item card p-3 mb-3 mx-lg-5" v-show="showItem" :class="{ \'bg-light\': recipe.selected, \'shadow-sm\': !recipe.selected, \'shadow\': recipe.selected }"><div class="recipe-meta"><div class="d-flex align-items-center justify-content-between" v-if="settings.listCompact"><checkbox class="mt-1 fa fa-lg" :checked="recipe.selected" @click="recipe.selected = !recipe.selected"></checkbox><h6 class="clickable mb-0 flex-grow-1" @click="$emit(\'emodalrecipe\')">{{ recipe.name }}</h6><recipe-servings :recipe="recipe"></recipe-servings><icon class="clickable d-none d-md-block" icon="eye" color="secondary" @click="$emit(\'emodalrecipe\')" title="View recipe"></icon></div></div><div class="d-flex justify-content-between" v-if="!settings.listCompact"><div class="recipe-meta flex-grow-1"><div class="d-flex align-items-start justify-content-start mb-2"><checkbox class="mt-1 fa fa-lg" :checked="recipe.selected" @click="recipe.selected = !recipe.selected"></checkbox><h5 class="clickable mb-0" @click="$emit(\'emodalrecipe\')">{{ recipe.name }}</h5><a class="mr-2 recipe-link" v-if="recipe.link.length &gt; 0" href="recipe.link" target="_blank"><icon icon="external-link-alt"></icon><small><div class="badge badge-pill badge-primary d-none d-md-inline">{{ getLink().host }}</div></small></a></div><div class="d-flex align-items-center justify-content-start"><div class="dropdown"><icon class="clickable" icon="ellipsis-h" data-toggle="dropdown"></icon><div class="dropdown-menu"><dropdown-item text="Edit" icon="pen" color="warning" @click="$emit(\'updaterecipe\')"></dropdown-item><dropdown-item text="Delete" icon="trash" color="danger" @click="$emit(\'deleterecipe\')"></dropdown-item></div></div><icon class="clickable" icon="eye" color="secondary" @click="$emit(\'emodalrecipe\')" title="View recipe"></icon><div><icon :icon="isVeg ? \'leaf\' : \'drumstick-bite\'" :color="isVeg ? \'success\' : \'danger\'"></icon></div><div class="recipe-rating text-nowrap" v-if="recipe.rating"><icon class="fa-sm" icon="star" color="warning"></icon><small>{{ recipe.rating }}</small></div><recipe-servings :recipe="recipe"></recipe-servings><recipe-ingredients :recipe="recipe" :filters="filters"></recipe-ingredients></div></div><div class="mh-100 my-n3 mr-n3 rounded-right recipe-image-thumbnail clickable" v-if="recipe.image" :style="{ \'background-image\': getImage().css }" @click="$emit(\'emodalrecipe\')" title="View recipe"></div></div></div>'}},641:(e,n,t)=>{t(55),e.exports=function(e){return""+'<div class="recipe-servings" v-if="recipe.servings"><span class="text-nowrap" :class="{ \'text-danger font-weight-bold\': currentServings !== recipe.servings }"><icon class="mr-1" icon="utensils"></icon><span>{{ currentServings | 0 }}</span></span><span class="servings-buttons"><button-icon class="btn-xs rounded-circle" v-for="dir, index in [\'plus\', \'minus\']" :icon="dir" color="dark" @click="update(index ? -1 : 1)"></button-icon></span></div>'}},820:(e,n,t)=>{t(55),e.exports=function(e){return""+'<h4 class="section-title d-inline" @click.stop="$emit(\'click\')"><span class="badge badge-dark rounded-circle mr-2"><span v-if="text">{{ text }}</span><icon v-if="icon" :icon="icon" :family="family"></icon></span>{{ title }}<icon class="ml-1 fa" v-if="suffixIcon" :icon="suffixIcon"></icon></h4>'}},55:(e,n,t)=>{"use strict";var i=Object.prototype.hasOwnProperty;function r(e,n){return Array.isArray(e)?function(e,n){for(var t,i="",o="",s=Array.isArray(n),a=0;a<e.length;a++)(t=r(e[a]))&&(s&&n[a]&&(t=c(t)),i=i+o+t,o=" ");return i}(e,n):e&&"object"==typeof e?function(e){var n="",t="";for(var r in e)r&&e[r]&&i.call(e,r)&&(n=n+t+r,t=" ");return n}(e):e||""}function o(e){if(!e)return"";if("object"==typeof e){var n="";for(var t in e)i.call(e,t)&&(n=n+t+":"+e[t]+";");return n}return e+""}function s(e,n,t,i){if(!1===n||null==n||!n&&("class"===e||"style"===e))return"";if(!0===n)return" "+(i?e:e+'="'+e+'"');var r=typeof n;return"object"!==r&&"function"!==r||"function"!=typeof n.toJSON||(n=n.toJSON()),"string"==typeof n||(n=JSON.stringify(n),t||-1===n.indexOf('"'))?(t&&(n=c(n))," "+e+'="'+n+'"'):" "+e+"='"+n.replace(/'/g,"&#39;")+"'"}n.merge=function e(n,t){if(1===arguments.length){for(var i=n[0],r=1;r<n.length;r++)i=e(i,n[r]);return i}for(var s in t)if("class"===s){var a=n[s]||[];n[s]=(Array.isArray(a)?a:[a]).concat(t[s]||[])}else if("style"===s){a=(a=o(n[s]))&&";"!==a[a.length-1]?a+";":a;var c=o(t[s]);c=c&&";"!==c[c.length-1]?c+";":c,n[s]=a+c}else n[s]=t[s];return n},n.classes=r,n.style=o,n.attr=s,n.attrs=function(e,n){var t="";for(var a in e)if(i.call(e,a)){var c=e[a];if("class"===a){t=s(a,c=r(c),!1,n)+t;continue}"style"===a&&(c=o(c)),t+=s(a,c,!1,n)}return t};var a=/["&<>]/;function c(e){var n=""+e,t=a.exec(n);if(!t)return e;var i,r,o,s="";for(i=t.index,r=0;i<n.length;i++){switch(n.charCodeAt(i)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}r!==i&&(s+=n.substring(r,i)),r=i+1,s+=o}return r!==i?s+n.substring(r,i):s}n.escape=c,n.rethrow=function e(n,i,r,o){if(!(n instanceof Error))throw n;if(!("undefined"==typeof window&&i||o))throw n.message+=" on line "+r,n;try{o=o||t(835).readFileSync(i,"utf8")}catch(t){e(n,null,r)}var s=3,a=o.split("\n"),c=Math.max(r-s,0),l=Math.min(a.length,r+s);throw s=a.slice(c,l).map((function(e,n){var t=n+c+1;return(t==r?"  > ":"    ")+t+"| "+e})).join("\n"),n.path=i,n.message=(i||"Pug")+":"+r+"\n"+s+"\n\n"+n.message,n}},379:e=>{"use strict";var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],l=i.base?c[0]+i.base:c[0],p=o[l]||0,u="".concat(l," ").concat(p);o[l]=p+1;var d=t(u),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(f);else{var m=r(f,i);i.byIndex=a,n.splice(a,0,{identifier:u,updater:m,references:1})}s.push(u)}return s}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=t(o[s]);n[a].references--}for(var c=i(e,r),l=0;l<o.length;l++){var p=t(o[l]);0===n[p].references&&(n[p].updater(),n.splice(p,1))}o=c}}},569:e=>{"use strict";var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},216:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,r&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},835:()=>{}},n={};function t(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={id:i,exports:{}};return e[i](o,o.exports,t),o.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0,(()=>{"use strict";var e={};t.r(e),t.d(e,{buttonIcon:()=>Y,checkbox:()=>K,dropdownItem:()=>ee,icon:()=>te,sectionTitle:()=>ie});var n=t(379),i=t.n(n),r=t(795),o=t.n(r),s=t(569),a=t.n(s),c=t(565),l=t.n(c),p=t(216),u=t.n(p),d=t(589),f=t.n(d),m=t(71),g={};g.styleTagTransform=f(),g.setAttributes=l(),g.insert=a().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=u(),i()(m.Z,g),m.Z&&m.Z.locals&&m.Z.locals;var h,v,b,y,x,w,k,S,I,A,C,M,R,T,O,Z,j=t(40),N={};N.styleTagTransform=f(),N.setAttributes=l(),N.insert=a().bind(null,"head"),N.domAPI=o(),N.insertStyleElement=u(),i()(j.Z,N),j.Z&&j.Z.locals&&j.Z.locals,v=function(e){return JSON.parse(JSON.stringify(e))},h=function(e,n=null){return e.sort((function(e,t){return n?e[n].localeCompare(t[n]):e.localeCompare(t)}))},y=function(e){var n,t,i,r,o;if(0===(r=h(Object.keys(e))).length)return{};for(o={},n=0,i=r.length;n<i;n++)o[t=r[n]]=e[t];return o},x=function(e){var n,t,i,r,o;if(Array.isArray(e)){for(i=t=0,r=e.length;t<r;i=++t)n=e[i],e[i]=x(n);return e}if(null===e)return e;if("object"==typeof e){for(o in e)n=e[o],e[o]=x(n);return y(e)}return e},I=function(e,n=null){var t,i;return i=function(e,n){return e+n},t=function(e){return e.filter((function(e){return null!=e})).reduce(i,0)},t(n?e.map((function(e){return e[n]})):e)},w=function(e){return e.includes("\n")?e.replaceAll("\n","<br />"):e.replaceAll("<br />","\n")},k=function(e){var n;return(n=document.createElement("a")).href=encodeURI(e),{uri:n.href,host:n.hostname.replace(/^(www\.)?/,""),port:n.port,css:`url('${n.href}')`}},b=function(e,n=!1){var t,i;return i=(t=new Fraction(e)).toFraction(!0),!1===n||1===t.d?i:i.replace(/(\d+)\/(\d+)/,"&frac$1$2;").replace(" ","")},C=function(e,n){var t,i,r,o;for(i=[],r=0,o=n.length;r<o;r++)"function"==typeof(t=n[r])[1]?!0===t[1](e[t[0]])&&i.push(t[2]):e[t[0]]===t[1]&&i.push(t[2]);return 0!==i.length&&mess.show(i.join("\n")),0===i.length},S=function(e,n){var t;return t=e+Math.random()*(n+1-e),Math.floor(t)},A=function(e,n,t){return setTimeout((function(){return e(n)}),t)},R={recipe:{name:"",link:"",comment:"",image:"",servings:null,rating:null,ingredients:[]},ingredient:{name:"",department:"",amount:0,unit:null,optional:!1}},T=function(){return Z.set("recipes",[])},(O={JSON:[{name:"name"},{name:"link"},{name:"comment"},{name:"image"},{name:"servings",formatFunc:function(e){return parseInt(0|e)}},{name:"rating",formatFunc:function(e){return parseInt(0|e)}},{name:"ingredients",init:[],formatFunc:function(e){var n,t,i;for(n=0,i=e.length;n<i;n++)(t=e[n]).amount=parseFloat(t.amount);return e.sort((function(e,n){return e.optional-n.optional||e.name.localeCompare(n.name)}))}}]}).Vue=O.JSON.concat([{name:"selected",init:!1},{name:"servingsModifier",init:1}]),M=function(e=[],n="JSON"){var t,i,r,o,s,a,c,l,p,u,d,f,m,g,b,y;for(Array.isArray(e)||(e=[e]),e=v(e),i=O[n].map((function(e){return e.name})),r=0,c=e.length;r<c;r++)for(m in g=e[r])i.includes(m)||delete g[m];for(o=0,l=e.length;o<l;o++)for(g=e[o],s=0,p=(b=O[n]).length;s<p;s++)null!=(t=b[s]).init&&null==g[t.name]&&(g[t.name]=t.init);for(a=0,u=e.length;a<u;a++)for(g=e[a],f=0,d=(y=O[n]).length;f<d;f++)null!=(t=y[f]).formatFunc&&(g[t.name]=t.formatFunc(g[t.name]));return 1===(e=h(x(e),"name")).length?e[0]:e},(Z=new xStore("ShoppingList_",localStorage)).get("recipes")||T(),Z.convert=M,Z.getAll=function(){return M(Z.get("recipes"),"Vue")},Z.importJSON=function(e){return Z.update(JSON.parse(e))},Z.exportJSON=function(){return M(Z.get("recipes"),"JSON")},Z.update=function(e){var n;return n=M(e,"Vue"),Z.set("recipes",n),n};var _,E=t(299),L={};L.styleTagTransform=f(),L.setAttributes=l(),L.insert=a().bind(null,"head"),L.domAPI=o(),L.insertStyleElement=u(),i()(E.Z,L),E.Z&&E.Z.locals&&E.Z.locals,_={props:["recipe"],computed:{currentServings:function(){return this.recipe.servings*this.recipe.servingsModifier}},methods:{update:function(e){if(this.currentServings+e!==0)return this.recipe.servingsModifier=(this.currentServings+e)/this.recipe.servings}},template:t(386)};var F,P,J,B,V=t(666),q={};q.styleTagTransform=f(),q.setAttributes=l(),q.insert=a().bind(null,"head"),q.domAPI=o(),q.insertStyleElement=u(),i()(V.Z,q),V.Z&&V.Z.locals&&V.Z.locals,P={ingredient:v(R.ingredient),units:["","mL","g"," cup(s)"," tbsp(s)"," tsp(s)"," pack(s)"],ingForm:"exist"},B=function(e,n=!0){var t,i,r,o,s,a,c,l,p,u,d;for(s={},r=0,c=e.length;r<c;r++)for(a=0,l=(d=(u=e[r]).ingredients).length;a<l;a++)s[(o=d[a]).department]||(s[o.department]={}),s[o.department][o.name]?s[o.department][o.name].amount+=o.amount:s[o.department][o.name]={name:o.name,unit:o.unit,amount:o.amount*u.servingsModifier,department:o.department};for(t in s)o=s[t],s[t]=h(function(){var e;for(p in e=[],o)i=o[p],e.push(i);return e}(),"name");return!0===n?y(s):h(Object.values(s).flat(),"name")},J=function(){var e;return e=this,{unique:B,clear:function(n="exist"){return e.Ingredient.ingredient=v(R.ingredient),e.Ingredient.ingForm=n},add:function(){var n;if(n=[["name","","Ingredient name: Cannot be empty"],["department","","Department name: Cannot be empty"],["amount",function(e){return""===e||!0===isNaN(e)||e<.125||8*e%1!=0},"Amount: Decimal numbers in steps of 0.125"],["unit",null,"Unit: Selection required"]],C(e.Ingredient.ingredient,n))return null!=e.Ingredient.ingredient.name.name&&(e.Ingredient.ingredient.name=e.Ingredient.ingredient.name.name),e.Recipe.recipe.ingredients.push(e.Ingredient.ingredient),e.Ingredients.clear()},updateExisting:function(n){return e.Ingredient.ingredient.department=n.department,e.Ingredient.ingredient.unit=n.unit},optional:function(n){return e.Recipe.recipe.ingredients[n].optional=!e.Recipe.recipe.ingredients[n].optional},delete:function(n){return e.Recipe.recipe.ingredients.splice(n,1)},list:function(){var n,t,i,r,o,s;for(n in s=[],o=B(e.recipes))i=o[n],s.push({department:n,ings:function(){var e;for(r in e=[],i)t=i[r],e.push(t);return e}()});return s},listFlat:function(){return B(e.recipes,!1)},departments:function(){return Object.keys(B(e.recipes))},ingSearch:function(e,n){var t,i;return t=function(){var e,t,r,o;for(o=[],e=0,t=(r=n.ings).length;e<t;e++)i=r[e],o.push(i.name);return o}(),function(){var n,r,o,s;for(s=[],n=0,r=(o=e.ingredients).length;n<r;n++)i=o[n],t.includes(i.name)&&s.push(i);return s}()}}},F={props:["recipe","filters"],computed:{ingSearch:function(){return J().ingSearch(this.recipe,this.filters)}},template:t(311)};var z,D,U,H=t(138),X={};X.styleTagTransform=f(),X.setAttributes=l(),X.insert=a().bind(null,"head"),X.domAPI=o(),X.insertStyleElement=u(),i()(H.Z,X),H.Z&&H.Z.locals&&H.Z.locals,D={recipe:v(R.recipe),activeRecipe:null},U=function(){var e;return e=this,{setActive:function(n){return e.Recipe.activeRecipe=e.recipes[n]},clear:function(){return e.Recipe.recipe=v(R.recipe),e.Ingredients.clear(),e.editindex>-1&&(e.settings.step1visible=!1),e.editindex=-1},save:function(){var n,t;if(n=[["name","","Recipe name: Cannot be empty"],["ingredients",function(e){return 0===e.length},"Ingredients: Add at least one ingredient"],["servings",function(e){return e%1!=0},"Servings: Whole numbers only (1-10)"],["rating",function(e){return e%1!=0},"Rating: Whole numbers only (1-5)"]],C(e.Recipe.recipe,n))return t=Z.convert(e.Recipe.recipe,"Vue"),e.editindex>-1?(e.recipes[e.editindex]=t,e.settings.step1visible=!1):e.recipes.push(t),mess.show(`${e.editindex>-1?"Updated":"Added new"} recipe: ${e.Recipe.recipe.name}`),e.Recipes.clear(),Z.update(e.recipes)},delete:function(n){return eModal.confirm("This cannot be undone.","Are you sure?").then((function(){return e.recipes.splice(n,1),Z.update(e.recipes)}))},update:function(n){return e.Recipe.recipe=v(e.recipes[n]),e.editindex=n,e.settings.step1visible=!0},getImage:function(e){return""!==e.image&&k(e.image)},eModal:function(n){return e.Recipes.setActive(n),e.settings.step1visible=!1,setTimeout((function(){return eModal.alert({title:e.Recipe.activeRecipe.name,subtitle:e.$refs.recipePlaceholderLink.outerHTML,message:e.$refs.recipePlaceholder.outerHTML})}),100)},selected:function(n=null){var t,i;switch(i=function(){var n,i,r,o;for(o=[],n=0,i=(r=e.recipes).length;n<i;n++)!0===(t=r[n]).selected&&o.push(t);return o}(),n){case"title":return function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(t.name);return r}().join(", ").toUpperCase();case"servings":return I(function(){var e,n,r;for(r=[],e=0,n=i.length;e<n;e++)t=i[e],r.push(t.servings*t.servingsModifier);return r}());default:return i}}}},z={components:{"recipe-servings":_,"recipe-ingredients":F},props:["recipe","filters","settings"],methods:{getLink:function(){return 0!==this.recipe.link.length&&k(this.recipe.link)},getImage:function(){return U().getImage(this.recipe)}},computed:{showIngs:function(){var e;return e=!0,0!==this.filters.ings.length&&(e=!0===this.settings.ingModeAnd?J().ingSearch(this.recipe,this.filters).length===this.filters.ings.length:J().ingSearch(this.recipe,this.filters).length>0),e},isVeg:function(){var e;return 0===function(){var n,t,i,r;for(r=[],n=0,t=(i=this.recipe.ingredients).length;n<t;n++)"Meats"===(e=i[n]).department&&r.push(e);return r}.call(this).length},showItem:function(){var e,n;return n={AND:{rating:!1===this.filters.rating||this.filters.rating<=this.recipe.rating,veg:!1===this.filters.veg||!0===this.isVeg,ings:this.showIngs},OR:{empty:0===this.filters.query.length,title:this.recipe.name.toLowerCase().includes(this.filters.query),comment:this.recipe.comment.toLowerCase().includes(this.filters.query)}},e=Object.values(n.AND).every((function(e){return!0===e})),!0===Object.values(n.OR).includes(!0)&&!0===e}},template:t(440)};var W=t(12),G={};G.styleTagTransform=f(),G.setAttributes=l(),G.insert=a().bind(null,"head"),G.domAPI=o(),G.insertStyleElement=u(),i()(W.Z,G),W.Z&&W.Z.locals&&W.Z.locals;var Q,Y,K,ee,ne,te,ie,re,oe,se,ae=t(969),ce={};for(se in ce.styleTagTransform=f(),ce.setAttributes=l(),ce.insert=a().bind(null,"head"),ce.domAPI=o(),ce.insertStyleElement=u(),i()(ae.Z,ce),ae.Z&&ae.Z.locals&&ae.Z.locals,Q=["icon","color","family"],ne=t(718),te={props:Q,methods:{getStyle:function(){var e;return null!=(e=this.family)?e:"fas"}},computed:{compIcon:function(){return`${this.getStyle()} fa-${this.icon}`},compColor:function(){return this.color?`text-${this.color}`:""},compClass:function(){return`${this.compIcon} ${this.compColor}`}},template:v(ne)},ne=t(651),Y={props:Q.concat(["tag","text","textBreakpoint"]),methods:{buttonClick:function(){return this.$emit("click"),this.$el.blur()}},computed:{compColor:function(){return this.color?`btn-${this.color}`:"btn-secondary"},compTag:function(){var e;return null!=(e=this.tag)?e:"button"},children:function(){var e;return function(){var n,t,i,r;for(r=[],n=0,t=(i=[this.icon,this.text]).length;n<t;n++)null!=(e=i[n])&&r.push(e);return r}.call(this).length},compTextClass:function(){return[null!=this.textBreakpoint?`d-none d-${this.textBreakpoint}-inline`:"",this.children>1?`ml-${null!=this.textBreakpoint?`${this.textBreakpoint}-`:""}2`:""].join(" ")}},template:v(ne)},ne=t(557),K={props:["checked"],computed:{icon:function(){return this.checked?"check-square":"square"},family:function(){return this.checked?"fas":"far"},color:function(){return this.checked?"primary":""}},template:v(ne)},ne=t(65),ee={props:["icon","color","text","suffix","keepMenu"],methods:{dropdownClick:function(e){if(this.$emit("click"),!0===this.keepMenu)return e.stopPropagation()}},template:v(ne)},ne=t(845),ie={props:["title","text","icon","family","suffixIcon"],template:v(ne)},e)oe=e[se],Vue.component(se,oe);re={el:"#app",components:{"vue-multiselect":VueMultiselect.default,"recipe-item":z},data:function(){return{recipes:[],editindex:-1,today:(new Date).toLocaleDateString("en-AU",{weekday:"short",year:"numeric",month:"long",day:"numeric"}),Recipe:D,Ingredient:P,filters:{query:"",ings:[],rating:!1,veg:!1},settings:{step1visible:!1,ingModeAnd:!1,listCompact:!1}}},created:function(){return this.recipes=Z.getAll()},methods:{onCopy:function(e){return eModal.alert({title:"Copied",subtitle:"(<kbd>Ctrl</kbd> + <kbd>v</kbd> to paste)",message:w(e.text)})},onError:function(e){return mess.show("Error copying to the clipboard.")},selectNone:function(){var e,n,t,i,r;for(r=[],e=0,n=(i=this.recipes).length;e<n;e++)t=i[e],r.push(t.selected=!1);return r},randomRecipe:function(){var e,n,t,i,r;return t=this.$refs.randomRecipe.$el.firstChild,n=/dice(\-[a-z]+)?/,i=["one","two","three","four","five","six"],r=!0,(e=function(){if(r)return t.className=t.className.replace(n,`dice-${i[S(0,5)]}`),A(e,this,S(50,300))})(),A((function(e){return r=!1,t.className=t.className.replace(n,"dice"),e.Recipes.eModal(S(0,e.recipes.length-1))}),this,2e3)},clearQuery:function(){return this.filters.query="",this.$refs.query.focus()},step1toggle:function(){return this.settings.step1visible=!this.settings.step1visible,this.Recipes.clear()},importRecipes:function(e){var n,t;return n=function(e){var n;return n=(new TextDecoder).decode(e.target.result),this.recipes=Z.importJSON(n),mess.show(`${this.recipes.length} recipes loaded successfully.`)},(t=new FileReader).onloadend=n.bind(this),t.readAsArrayBuffer(e.target.files[0])},exportRecipes:function(){var e,n,t;return n=JSON.stringify(Z.exportJSON(),void 0,2),t=new Blob([n],{type:"text/json"}),e=document.createElement("a"),Object.assign(e,{download:"recipes.json",innerHTML:"Download File",href:window.URL.createObjectURL(t),onclick:function(e){return document.body.removeChild(e.target)}}),e.style.display="none",document.body.appendChild(e),e.click()},clearRecipes:function(){var e;return e=this,eModal.confirm("This will clear the entire recipes detabase. This cannot be undone.","Are you ABSOLUTELY sure?").then((function(){return e.recipes=Z.update([]),mess.show("Recipes database cleared.")}))}},computed:{Funcs:function(){return{nlbr:function(e){return w(e)},fraction:function(e){return b(e,!0)},getImage:function(e){return U().getImage(e)}}},Recipes:U,Ingredients:J,clipboardShoppingList:function(){var e,n,t,i,r,o,s;for(n in e=`Shopping list for ${this.today}:\n\n`,r=this.Ingredients.unique(this.Recipes.selected())){for(e+=`${n}:\n`,t=0,s=(o=r[n]).length;t<s;t++)i=o[t],e+=`${b(i.amount)}${i.unit} ${i.name}\n`;e+="\n"}return e},clipboardMenues:function(){var e,n,t,i,r,o,s,a,c;for(e=`Menu for ${this.today}:\n${this.Recipes.selected("title")}\n\n`,n=0,r=(a=this.Recipes.selected()).length;n<r;n++){for(e+=`${(s=a[n]).name.toUpperCase()} ${s.comment?"\n"+s.comment:""} \n--------------------------------------------\n`,i=0,o=(c=s.ingredients).length;i<o;i++)t=c[i],e+=`${b(t.amount)}${t.unit} ${t.name}\n`;e+="\n"}return e}}},document.addEventListener("DOMContentLoaded",(function(){return new Vue(re),(new Mess).init(),$('[data-toggle="tooltip"]').tooltip()}))})()})();